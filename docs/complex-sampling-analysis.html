<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>complex-sampling-analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./complex-sampling-analysis.html">9. Complex sampling design analysis</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datasets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./website-information.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to use this website</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability-sampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Probability sampling</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">2. Introducing SPSS &amp; preparing data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction-to-spss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.1. Introducing SPSS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preparing-a-dataset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.2. Preparing a dataset</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sample-description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Data exploration &amp; sample description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./population-description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Population description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sample-size.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. Sample size calculations</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">6. Bivariate tests for numerical variables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./independent-t-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6.1. Independent t-test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./independent-t-test-skewed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6.2. Independent t-test with skewed data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./paired-t-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6.3. Paired t-test</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">7. Bivariate tests for categorical variables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chi-sq-independence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.1. Chi-square test of independence</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chi-sq-goodness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.2. Chi-square goodness of fit test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./paired-categorical-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.3. Paired categorical variable test (McNemar’s test)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">8. Regresson modelling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linear-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.1. Linear regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./logistic-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.2. Logistic regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./complex-sampling-analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">9. Complex sampling design analysis</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#complex-samplesurvey-design-analysis" id="toc-complex-samplesurvey-design-analysis" class="nav-link active" data-scroll-target="#complex-samplesurvey-design-analysis">Complex sample/survey design analysis</a></li>
  <li><a href="#rationale" id="toc-rationale" class="nav-link" data-scroll-target="#rationale">Rationale</a>
  <ul class="collapse">
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#a-very-brief-description-of-survey-weights" id="toc-a-very-brief-description-of-survey-weights" class="nav-link" data-scroll-target="#a-very-brief-description-of-survey-weights">A very brief description of survey weights</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading">Further reading</a></li>
  <li><a href="#preparing-for-sampling-design-data-analysis-a-checklist" id="toc-preparing-for-sampling-design-data-analysis-a-checklist" class="nav-link" data-scroll-target="#preparing-for-sampling-design-data-analysis-a-checklist">Preparing for sampling design data analysis: a checklist</a></li>
  </ul></li>
  <li><a href="#practice" id="toc-practice" class="nav-link" data-scroll-target="#practice">Practice</a>
  <ul class="collapse">
  <li><a href="#scenario" id="toc-scenario" class="nav-link" data-scroll-target="#scenario">Scenario</a></li>
  <li><a href="#exercise-1-describe-the-association-between-location-and-time-taken-to-collect-water" id="toc-exercise-1-describe-the-association-between-location-and-time-taken-to-collect-water" class="nav-link" data-scroll-target="#exercise-1-describe-the-association-between-location-and-time-taken-to-collect-water">Exercise 1: describe the association between location and time taken to collect water</a>
  <ul class="collapse">
  <li><a href="#step-1-prepare-and-explore-the-data" id="toc-step-1-prepare-and-explore-the-data" class="nav-link" data-scroll-target="#step-1-prepare-and-explore-the-data">Step 1: prepare and explore the data</a></li>
  <li><a href="#step-2-create-the-spss-complex-samples-plan-file" id="toc-step-2-create-the-spss-complex-samples-plan-file" class="nav-link" data-scroll-target="#step-2-create-the-spss-complex-samples-plan-file">Step 2: create the SPSS “complex samples plan file”</a></li>
  <li><a href="#step-3-describe-the-sample" id="toc-step-3-describe-the-sample" class="nav-link" data-scroll-target="#step-3-describe-the-sample">Step 3: describe the sample</a></li>
  <li><a href="#step-4-run-the-complex-design-adjusted-linear-regression-model" id="toc-step-4-run-the-complex-design-adjusted-linear-regression-model" class="nav-link" data-scroll-target="#step-4-run-the-complex-design-adjusted-linear-regression-model">Step 4: run the complex design adjusted linear regression model</a></li>
  <li><a href="#step-5-check-the-assumptions-of-the-complex-design-linear-regression-model" id="toc-step-5-check-the-assumptions-of-the-complex-design-linear-regression-model" class="nav-link" data-scroll-target="#step-5-check-the-assumptions-of-the-complex-design-linear-regression-model">Step 5: check the assumptions of the complex design linear regression model</a></li>
  <li><a href="#step-6-understand-the-results-tables" id="toc-step-6-understand-the-results-tables" class="nav-link" data-scroll-target="#step-6-understand-the-results-tables">Step 6: understand the results tables</a></li>
  </ul></li>
  <li><a href="#exercise-2-describe-the-mean-time-in-minutes-women-report-it-takes-them-to-collect-water" id="toc-exercise-2-describe-the-mean-time-in-minutes-women-report-it-takes-them-to-collect-water" class="nav-link" data-scroll-target="#exercise-2-describe-the-mean-time-in-minutes-women-report-it-takes-them-to-collect-water">Exercise 2: describe the mean time (in minutes) women report it takes them to collect water</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="complex-samplesurvey-design-analysis" class="level1">
<h1>Complex sample/survey design analysis</h1>
<hr>
<p>In this practical we will look at how we can appropriately analyse data that has been sampled using sampling methods including “complex” features. However, we will be using the same broad methods of analysis that we have already looked at, such as estimating population means/percentages, and linear and logistic regression.</p>
<p><br></p>
</section>
<section id="rationale" class="level1">
<h1>Rationale</h1>
<hr>
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>Complex sample design data are datasets (i.e.&nbsp;sample) that have come from a probability sampling method that has any combination of the following three “complex design features”, with all three often being present together:</p>
<ol type="1">
<li><p>Stratification</p></li>
<li><p>Clustered sampling (often multi-stage clustered sampling)</p></li>
<li><p>Unequal probabilities of selection for sampling units</p></li>
</ol>
<p>It’s also often referred to as “complex survey design” data, but really a survey is not a study design and you could sample data for any study design using sampling methods with complex features like this, so the more general term would be complex sample design data.</p>
<p>Such data may have come from a single cross-sectional sample, multiple cross-sectional samples (i.e.&nbsp;multiple samples across time of different sampling units), or be true longitudinal data (i.e.&nbsp;multiple samples across time of the same sampling units).</p>
<p>This type of data is most commonly encountered/analysed in global health research when working with large-scale, typically national-scale, cross-sectional household surveys, such as the Demographic and Health Surveys (DHS: https://dhsprogram.com/), the Multiple Indicator Cluster Surveys (MICS: https://mics.unicef.org/), the WHO STEPwise Approach to surveillance Surveys (STEPS: https://www.who.int/ncds/surveillance/steps/en/), and many countries’ own household surveys. This is because large-scale household surveys almost always use all three of these key complex sampling design features of stratification, cluster sampling, and unequal probabilities of selection of sampling units. The reason they do this is usually for both pragmatic, logistical, and statistical/research reasons. Specifically, stratified sampling is often employed to both allow strata (typically an administrative level such as the region, often further stratified into urban and rural areas) to be independently sampled to ensure that each strata has a sufficient sample size to allow inferences to be made at the strata-level. Cluster sampling is primarily employed to reduce the logistical costs of sampling across huge geographical areas. While stratification and the multi-stage cluster sampling methods employed result in unequal probabilities of selection for sampling units (typically individuals).</p>
<p>Standard methods of analysis, or more technically the maths underlying those methods, such as the independent t-test and linear regression, assume that the data being analysed come from a simple random sample. However, any of the complex sampling design features mentioned above result in a violation of that assumption, which if not adjusted for would result in either biased point estimates (e.g.&nbsp;biased regression coefficients) and/or biased standard errors of those point estimates (i.e.&nbsp;biased variance estimates), which means biased confidence intervals and p-values. More specifically, not adjusting for clustering typically results in falsely narrow confidence intervals/falsely small p-values, while not adjusting for stratification can mean the analysis “misses out” of the benefits of a stratified sample, which can reduce the overall variation in the outcome and produce more precise results for a given sample size. And not adjusting for unequal probabilities of selection of sampling units typically results in both biased/inaccurate point estimates of characteristics/relationships and falsely narrow confidence intervals/falsely small p-values. Therefore, it is critical that we account or adjust for any complex sampling design features in our analyses to obtain unbiased results.</p>
<p>Luckily there are modifications to all commonly used analytical methods, including t-tests and regression models (i.e.&nbsp;linear and logistic and others that we’ve not looked at). And also fortunately we don’t have to worry about the underlying maths. With statistical software like SPSS primarily all we have to do is tell the software which variables code for, or identify, the different complex design features, and then select the appropriate complex sampling design version of the analysis we want to do. Then we proceed with our analysis like we would if we were analysing data from a simple random sample, i.e.&nbsp;using the processes outlined in the earlier practical sessions.</p>
<p>In any high quality complex sampling dataset that used stratification, cluster sampling, and unequal probabilities of selection of sampling units in its sampling design, there will be a variable that indicates which strata each observation (sampling unit) comes from and a variable that indicates which cluster sampling unit each observation comes from. There will also be a third variable that contains the survey weights, which are used to adjust for the unequal probabilities of selection of sampling units.</p>
</section>
<section id="a-very-brief-description-of-survey-weights" class="level2">
<h2 class="anchored" data-anchor-id="a-very-brief-description-of-survey-weights">A very brief description of survey weights</h2>
<details>
<summary>
Read/hide
</summary>
<p>Sampling with unequal probabilities of selection of sampling units results in unrepresentative samples (i.e.&nbsp;unrepresentative of the target population). This may occur when using stratified sampling with disproportionate strata, or when using a multi-stage cluster sampling approach. To obtain representative results we must therefore “map” the survey sample back onto the target population. To do this survey data producers calculate/produce sampling weights. In the analysis these weights upweight (or increase the contribution) of observations from sampling units that were undersampled compared to proportion of the target population that they represent, and they downweight (or decrease the contribution) of observations from sampling units that were oversampled compared to proportion of the target population that they represent. These weights are then usually combined with two other sets of weights. One that attempts to correct for any missing observations, and one that uses any pre-existing, recent, robust data on characteristics of the target population (such as a recent census) to adjust for any remaining lack of representativeness still reflected in the sample. Once all three types of weight are combined this results in a final or ultimate survey weight variable.</p>
</details>
<p>Therefore, once we’ve identified these three variables and “told” SPSS which variables they are we can analyse our data and largely forget/ignore the fact that we are doing a complex sampling design version of our chosen analysis. The type of results we get and their interpretation will, broadly speaking, not change apart from in a few areas that we will look at in this practical session.</p>
</section>
<section id="further-reading" class="level2">
<h2 class="anchored" data-anchor-id="further-reading">Further reading</h2>
<details>
<summary>
Read/hide
</summary>
<p>Unfortunately, the best and most beginner-friendly textbook on sampling design data analysis, which also included examples using SPSS (as well as other statistical software) is now no longer available from the library (it was previously available online via the library). This book is: Heeringa, S., West, B.T., Berglund, P.A. (2017). Applied Survey Data Analysis (2nd ed.). Boca Raton, FL, USA: CRC Press. If you do plan on conducting sampling design analyses in your later careers I would strongly recommend buying the book, as it’s well worth it. The accompanying website also has lots of practice examples of analyses in SPSS and other statistical software. Unfortunately there are not any similar textbooks that I am aware of for sampling design analysis.</p>
<p>However, there is a nice overview/summary of the main issues around sampling design data analysis in the following paper, by one of the authors of the book I’ve just mentioned, which is freely available here:</p>
<p>https://pubmed.ncbi.nlm.nih.gov/18956450/</p>
</details>
</section>
<section id="preparing-for-sampling-design-data-analysis-a-checklist" class="level2">
<h2 class="anchored" data-anchor-id="preparing-for-sampling-design-data-analysis-a-checklist">Preparing for sampling design data analysis: a checklist</h2>
<p>The following is an excellent future reference checklist of steps to undertake when preparing to analyse sampling design data in a real analysis. It is taken from the Applied Survey Data Analysis textbook mentioned previously. For this practical we will assume we have carried out steps 1-3 and step 5 to save time, and some of the issues mentioned are beyond the scope of this introductory course/session, but if you were to do sampling design analysis for a real study or later in your career you should educate yourself enough to understand all these terms and the issues they refer to (e.g.&nbsp;by buying and reading the recommended textbook).</p>
<details>
<summary>
Read/hide
</summary>
<ol type="1">
<li><p>Review the documentation for the data set provided by the data producer, specifically focusing on sections discussing the development of the final survey weights and sampling error (standard error) estimation. Contact the data producer if any questions arise.</p></li>
<li><p>Identify the correct weight variable for the analysis, keeping in mind that many survey data sets include separate weights for different types of analyses. Perform simple descriptive analyses of the weight variable, noting the general distribution of the weights, whether the weights have been normalized, and whether there are missing or 0 weight values for some cases. Select a few key variables from the survey data set and compare weighted and unweighted estimates of descriptive parameters (e.g., means, proportions) for these variables to understand the effect the weights have.</p></li>
<li><p>Identify the variables in the data set containing the “sampling error calculation codes” that define the sampling error calculation model [JPH: these are just the variables defining the strata and clusters]. Examine how many clusters were selected from each sampling stratum (according to the sampling error calculation model), and whether particular clusters have small sample sizes. If only a single sampling error cluster is identified in a sampling stratum, contact the data producer or consult the documentation for the data set for guidance on recommended variance estimation methods. Determine whether replicate sampling weights are present if sampling error calculation codes are not available, and make sure that the statistical software is capable of accommodating replicate weights (Section 4.2.1).</p></li>
<li><p>Create a final analysis data set containing only the analysis variables of interest (including the survey weights, sampling error calculation variables, and case identifiers) [JPH: this is optional. It’s nice to keep your dataset tidy and no bigger than necessary for speed and manageability, but it obviously doesn’t affect the analysis in anyway]. Examine univariate and bivariate summaries for the key analysis variables to determine possible problems with missing data or unusual values on the individual variables.</p></li>
<li><p>Review the documentation provided by the data producer to understand the procedure (typically nonresponse adjustment) used to address unit nonresponse or nonresponse to a wave or phase of the survey data collection. Analyse the rates and patterns of item missing data for all variables that will be included in the analysis. Investigate the potential missing data mechanism by defining indicator variables flagging missing data for the analysis variables of interest. Use statistical tests (e.g., chi-square tests, two-sample t-tests) to see if there are any systematic differences between respondents providing complete responses and respondents failing to provide complete responses on important analysis variables (e.g., demographics). Choose an appropriate strategy for addressing missing data using the guidance provided in Section 4.4 and Chapter 12 [JPH: we will not look at missing data issues in this practical, but most high quality sampling design datasets, such as the DHS surveys, include weights that incorporate adjustments for missing data that, while not perfect by any means, go some way to addressing bias from missing data by simply including the weights in the analysis as you should be doing anyway].</p></li>
<li><p>Define indicator variables for important analysis subclasses. Do not delete cases that are not a part of the primary analysis subclass. Assess a cross-tabulation of the stratum and cluster sampling error calculation codes for the subclass cases to identify the distribution of the subclass across the strata and clusters defined by the sampling error calculation model. Consult a survey statistician prior to analysis of subclasses that exhibit the “mixed class” characteristic illustrated in Figure 4.4. Make sure to employ appropriate software options for unconditional subclass analyses if using TSL for variance estimation [JPH: we will look at this issue in more detail later in this practical session].</p></li>
</ol>
</details>
<p><br></p>
</section>
</section>
<section id="practice" class="level1">
<h1>Practice</h1>
<hr>
<section id="scenario" class="level2">
<h2 class="anchored" data-anchor-id="scenario">Scenario</h2>
<p>You have been tasked by your ministry of health to use your country’s recent DHS survey data to explore associations between socio-demographic characteristics and the time women report it takes them to collect water.</p>
</section>
<section id="exercise-1-describe-the-association-between-location-and-time-taken-to-collect-water" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1-describe-the-association-between-location-and-time-taken-to-collect-water">Exercise 1: describe the association between location and time taken to collect water</h2>
<p>The dataset we will use here is one of the DHS’s “model datasets”, and as such it was produced by the DHS for practicing analysis of DHS survey data. It is therefore representative of the types of data and data features (e.g.&nbsp;sampling design features) found in DHS surveys, but it doesn’t contain any real data from any country. DHS surveys typically result in the production of a number of datasets, primarily a household-level dataset and datasets for women, men, and children, plus potentially others. You can read more about DHS datasets here: https://dhsprogram.com/data/</p>
<p>However, we will just use the “individual recode” dataset in the SPSS .sav format (DHS helpfully makes their datasets available in other formats too). This contains data from the female respondents of the survey, who consist of all members of a selected household who are aged 15-49. This dataset is included in the “Datasets” folder of the MSc &amp; MPH computer sessions practical files, and is called “ZZIR62FL.SAV”. The “odd” naming is due to DHS’s naming conventions, which you can read about here: https://www.dhsprogram.com/data/File-Types-and-Names.cfm</p>
<p>More specifically, we will use the dataset to answer the descriptive research question “what factors are associated the time women report it takes someone from their household to reach the household’s source of drinking water?”</p>
<section id="step-1-prepare-and-explore-the-data" class="level3">
<h3 class="anchored" data-anchor-id="step-1-prepare-and-explore-the-data">Step 1: prepare and explore the data</h3>
<p>First of all we will identify, explore, and edit as necessary the key complex design variables of the survey. We will then explore our independent and outcome variables, and then produce descriptive statistics to describe the sample’s characteristics in terms of the variables measured, as would commonly be found in the “Table 1” of a paper. Then we will produce our analytical model results.</p>
<ul>
<li>Load the “ZZIR62FL.sav” SPSS dataset.</li>
</ul>
<p><a href="https://youtu.be/6gUS7-JTTnk">Video instructions: prepare and explore the data</a></p>
<p><strong>Written instructions: prepare and explore the data</strong></p>
<details>
<summary>
Read/hide
</summary>
<section id="basic-variable-details-obtained-from-the-documentation-describing-the-dataset" class="level4">
<h4 class="anchored" data-anchor-id="basic-variable-details-obtained-from-the-documentation-describing-the-dataset">Basic variable details obtained from the documentation describing the dataset</h4>
<ul>
<li><p>V005 = Women’s individual sample weight (6 decimals) - numerical</p></li>
<li><p>V021 = Primary sampling unit - nominal</p></li>
<li><p>V023 = Stratification used in sample design - nominal</p></li>
<li><p>V025 = Type of place of residence - nominal</p></li>
<li><p>V115 = Time to get to water source - numerical (minutes)</p></li>
<li><p>V152 = Age of household head - numerical (years)</p></li>
<li><p>V190 = Wealth index - ordinal</p></li>
</ul>
</section>
<section id="prepare-and-explore-the-data" class="level4">
<h4 class="anchored" data-anchor-id="prepare-and-explore-the-data">Prepare and explore the data</h4>
<p>As per the checklist steps 1-3 for any sampling design analysis you must first thoroughly review the survey technical/methodological documentation to understand the design of the survey and sampling process, and to understand which variables contain the stratification, clustering, and weighting information, and to understand any modifications of those variables that are required. To save time we will assume we have done this, and that we have removed all variables from the dataset other than these design variables and the independent and outcome variables.</p>
<p>Therefore, open the ZZIR62FL.SAV dataset. If a window appears with a message starting “IBM SPSS Statistics is running in Unicode encoding mode…” just click <mark>Yes</mark>. We can assume that from reading the relevant technical/methodological literature on this survey we have identified the relevant complex design variables and our variables of interest and removed all other variables from the dataset. The information on the complex design variables can be found in the “DHS Guide to Statistics” (https://dhsprogram.com/data/Guide-to-DHS-Statistics/Analyzing_DHS_Data.htm), but you should also review the survey specific literature (each DHS survey has a final report with specific methodological details relevant to that survey, along with a full copy of the questionnaire used that you should always review).</p>
<section id="explore-and-edit-the-complex-design-variables" class="level5">
<h5 class="anchored" data-anchor-id="explore-and-edit-the-complex-design-variables">Explore and edit the complex design variables</h5>
<p>Therefore, V005 identifies the survey weights, V021 identifies the clusters (often called primary sampling units as they are the first stage of a multi-stage cluster sample), and V023 identifies the strata. However, and this shows why you must read survey methodological literature carefully, all DHS weights are stored multiplied by 1,000,000. This is for very technical computer science related reasons about floating point errors that we don’t need to go into here, but the point is that to use the weight variable we therefore need to first divide all values by 1,000,000.</p>
<p>To do this from the main menu go: <mark>Transform &gt; Compute Variable</mark>. Then in the <mark>Target Variable:</mark> box give our new variable a suitable name, say “survey_weight”, and in the <mark>Numeric Expression:</mark> box enter the following:</p>
<blockquote class="blockquote">
<p>V005 / 1000000</p>
</blockquote>
<p>Then click <mark>OK</mark>. You can now delete the old V005 variable if you wish.</p>
<p>Before we go any further let’s rename the other variables for ease of reference. We’ll use the following names:</p>
<ul>
<li><p>V021 = cluster</p></li>
<li><p>V023 = strata</p></li>
<li><p>V025 = location</p></li>
<li><p>V115 = time_water</p></li>
<li><p>V152 = age_hhh</p></li>
<li><p>V190 = wealth</p></li>
</ul>
<p>And let’s also change the variables cluster, strata, location, and wealth to the variable type nominal so SPSS treats them as categorical variables (as they use numerical coding SPSS automatically treats them as numerical variables unless told otherwise).</p>
<p>Now let’s explore the complex design variables. For a quick overview of their descriptive statistics remember you can just right click on each variable in either the <mark>Data view</mark> or <mark>Variable View</mark> and click on <mark>Descriptive Statistics</mark>. However, you should first change the strata (V023) and cluster variables. As our strata and cluster variables are both categorical this is probably sufficient, but it’s worth producing a histogram for the numerical survey_weight variable to visualise its distribution. What do the descriptive statistics and histogram show you for the three complex design variables?</p>
<p>What do the descriptive statistics and histogram show you for the three complex design variables?</p>
<details>
<summary>
Read/hide
</summary>
<p>There are no missing values for any of the variables. The observations are typically evenly distributed across clusters, but much less evenly distributed across strata. However, there are no concerning issues, such as a single observation in a cluster or strata, that might indicate data errors. The histogram of the weights shows a strongly right-skewed distribution with some potentially concerning extremely high weight values. If this was a real analysis it would be worth looking into these more closely, but we’ll assume they’re all fine.</p>
</details>
</section>
<section id="explore-and-edit-the-data-variables" class="level5">
<h5 class="anchored" data-anchor-id="explore-and-edit-the-data-variables">Explore and edit the data variables</h5>
<p>Next let’s explore each of the data variables in turn. Again for a quick univariate exploration we can just use the same process as we used to explore the complex design variables.</p>
<p>What do the descriptive statistics and histogram show you for the four data variables?</p>
<details>
<summary>
Read/hide
</summary>
<p>There are no missing values for location, and there is a ~40%:60% split between urban and rural located households of the women surveyed. There are 13 missing values of our outcome variable time_water, and a histogram indicates that the variable appears to have a strongly “bimodal” distribution with two distinct “peaks”, but we’ll come back this shortly. There are 6 missing values of age_hhh, and a histogram indicates that the variable is fairly normally distributed. There are no missing values of wealth, and observations are evenly distributed across it’s five levels. This is to be expected because in DHS surveys the numerical household wealth index is categorised into five wealth quintiles by evenly separating increasing values of the variable into five levels/groups.</p>
<p>So back to the outcome variable. This is a good example of why a careful data exploration is important prior to any analysis, and why understanding your survey data and methodological documentation is so important. You can access the questionnaire that the model dataset is based on here: https://dhsprogram.com/pubs/pdf/DHSQ6/DHS6_Questionnaires_5Nov2012_DHSQ6.pdf</p>
<p>Scroll down to question 104 “How long does it take to go there, get water, and come back?”, which is where our variable comes from.</p>
<p>What can you see about the possible response values?</p>
<details>
<summary>
Read/hide
</summary>
<p>Respondents can provide the number of minutes it takes them to go and collect water and come back, but for those who don’t know their response is coded as 998:, which is the second peak we see on the histogram. Therefore, the distribution is not bimodal at all, we’re just not looking at only the true/non-missing values.</p>
</details>
<p>Therefore, let’s just look at the distribution of non-missing values for our outcome. Instead of deleting all observations where the response was “don’t know” to our question of interest we can tell SPSS to treat the value 998 as a missing value for this variable. In the <mark>Variable View</mark> for the time_water row click on the cell under the column <mark>Missing</mark> and click on the box with three dots in that appears to the right of the cell. In the <mark>Missing Values</mark> box that appears click the <mark>Discrete missing values</mark> button and in the first box enter 998 and then click <mark>OK</mark>.</p>
<p>Now re-run the histogram and what do you see?</p>
<details>
<summary>
Read/hide
</summary>
<p>The distribution of values is clearly strongly right-skewed. Remember that linear regression assumes that the <em>residuals</em> are approximately normally distributed not the raw values of the outcome, and therefore once we adjust for all our independent variables our model may be valid. However, with such strong right-skew it looks likely that we’ll have to transform the outcome (another option would be to use a regression model for count data, such as the Poisson or negative binomial regression model, but that’s beyond this course).</p>
</details>
</details>
</section>
<section id="explore-bivariate-relationships" class="level5">
<h5 class="anchored" data-anchor-id="explore-bivariate-relationships">Explore bivariate relationships</h5>
<p>Let’s look at the relationships between our independent variables and our outcome to check for any clearly non-linear relationships. In a real analysis we would also want to check for the presence of strong interactions, ideally that we would expect from theory, but that is beyond the scope of this practical and course.</p>
<p>As previously for numerical independent variables we use scatter plots.</p>
<ul>
<li>From the menu go: <mark>Graphs &gt; Legacy Dialogues &gt; Scatter/Dot</mark>, then select the default top-left <mark>Simple scatter</mark> option and click <mark>Define</mark>. Then add age_hhh and water_time to the appropriate <mark>X Axis:</mark> and <mark>Y Axis:</mark> boxes respectively and click <mark>OK</mark>.</li>
</ul>
<p>It’s hard to see much of a relationship there, and certainly no clear non-linear relationship.</p>
<p>Then for the two categorical independent variables again we can use box plots.</p>
<ul>
<li>From the main menu go: <mark>Graphs &gt; Legacy Dialogues &gt; Boxplot</mark>, then select <mark>Simple</mark> and click <mark>Define</mark>. Add the water_time variable into the <mark>Variable:</mark> box and location into the <mark>Category Axis:</mark> box and click <mark>OK</mark>.</li>
</ul>
<p>It’s also hard to see much of a clear relationship here, but the median time for urban looks slightly higher than the median time for rural, but clearly there’s a lot of variation in both category levels. If you repeat the graph but for wealth what do you see? Again, personally I can’t see any clear relationships here.</p>
</section></section></details>
</section>
</section>
</section>
<section id="step-2-create-the-spss-complex-samples-plan-file" class="level3">
<h3 class="anchored" data-anchor-id="step-2-create-the-spss-complex-samples-plan-file">Step 2: create the SPSS “complex samples plan file”</h3>
<p><a href="https://youtu.be/UWYEU385pvM">Video instructions: create the SPSS “complex samples plan file”</a></p>
<p><strong>Written instructions: create the SPSS “complex samples plan file”</strong></p>
<details>
<summary>
Read/hide
</summary>
<p>As mentioned previously in order to undertake valid analysis of a complex design dataset we must first tell SPSS which variables code for the complex design features in our sample. We only need to do this once.</p>
<ul>
<li><p>To do this from the main menu go: <mark>Analyse &gt; Complex Samples &gt; Prepare for Analysis</mark>. Then with the <mark>Create a plan file</mark> button selected click <mark>Next</mark>. Then in the <mark>Save Data As</mark> window that opens we need to first create a complex samples plan file that SPSS can store the information in about which variables code for the complex design features. Therefore, navigate to a suitable folder and enter a suitable name for the plan into the <mark>File name:</mark> box, such as “water_survey”, and then click <mark>Save</mark>. You can now identify the complex design variables coding for the strata, clusters, and weights to SPSS. Note: if you are working with data that comes from a complex sample using few than all three of these design features you can of course just identify those.</p></li>
<li><p>In the <mark>Analysis Preparation Wizard</mark> simply add the strata variable into the <mark>Strata:</mark> box, the cluster variable into the <mark>Clusters:</mark> box, and the survey_weight variable into the <mark>Sample Weight:</mark> box. You can then just click <mark>Finish</mark>, because the default options are that you can set on the next pages by clicking <mark>Next</mark> are suitable.</p></li>
</ul>
<p>You have now created your sampling plan file which can be reused for any analysis of this dataset, and we can now run any analysis that can account for a complex design using this file and SPSS will adjust for the stratification, clustering and weights.</p>
</details>
</section>
<section id="step-3-describe-the-sample" class="level3">
<h3 class="anchored" data-anchor-id="step-3-describe-the-sample">Step 3: describe the sample</h3>
<p><a href="https://youtu.be/tCDLVDrBN-g">Video instructions: describe the sample</a></p>
<p><strong>Written instructions: describe the sample</strong></p>
<details>
<summary>
Read/hide
</summary>
<p>Note: if you feel you are short on time then skip this exercise and move onto the next exercise that focuses on producing the inferential results.</p>
<p>We will calculate the mean for water_time and age_hhh and the frequency and percentage for each category level of location and wealth. Let’s start with the numerical independent variables.</p>
<ul>
<li><p>From the main menu go: <mark>Analyse &gt; Complex Samples &gt; Descriptives</mark>, then in the <mark>Complex Samples Plan for Descriptives Analysis</mark> tool just click <mark>Continue</mark> as the complex samples plan file will be automatically selected. If for any reason it is not click <mark>Browse</mark> and locate and select it before clicking <mark>Continue</mark>.</p></li>
<li><p>Now in the <mark>Complex Samples Descriptives</mark> tool add time_water and age_hhh to the <mark>Measures:</mark> box. Then click the <mark>Statistics</mark> button and ensure that the <mark>Mean</mark> button is ticked and click <mark>Continue</mark>. For some reason there is no option to calculate the standard deviation or median. The range isn’t affected by the complex design features though so you could still calculate that using the standard tool.</p></li>
</ul>
<p>You’ll see that water_time has a mean of 24.61 and age_hhh has a mean of 45.48. These are both adjusted for the complex design features of the sample. To compare to an analysis ignoring these features right click on the water_time variable and select the <mark>Descriptive Statistics</mark> option. You’ll see that the mean for water_time is 23.74 when you ignore the complex design features. In this instance it’s not a big difference, but this is the affect of accounting for the weights variable.</p>
<p>Now let’s calculate the frequency and percentage for each category level of location and wealth.</p>
<ul>
<li><p>From the main menu go: <mark>Analyse &gt; Complex Samples &gt; Frequencies</mark>, then in the <mark>Complex Samples Plan for Descriptives Analysis</mark> tool just click <mark>Continue</mark> as the complex samples plan file will be automatically selected. If for any reason it is not click <mark>Browse</mark> and locate and select it before clicking <mark>Continue</mark>.</p></li>
<li><p>Now in the <mark>Complex Samples for Frequencies Analysis</mark> tool add location and wealth to the <mark>Frequency Tables:</mark> box, then click the <mark>Statistics</mark> button and select the <mark>Population size</mark>, <mark>Table percent</mark>, and the <mark>Unweighted count</mark> tick boxes, and then click <mark>Continue</mark> and then <mark>OK</mark>.</p></li>
</ul>
<p>The resulting tables are not helpfully laid out! The <strong>Estimate</strong> column gives the frequencies adjusted for the weights in the top half of the table and the corresponding percentages adjusted for the weights in the bottom half of the table. Then the <strong>Unweighted count</strong> gives the frequencies not adjusted for the weights in both the top and bottom halves of the table, i.e.&nbsp;the values are just repeated for some unclear reason.</p>
<p>For both means and frequencies and percentages you would usually want to provide the weight-adjusted descriptive statistics because they reflect the target population that you are making inferences to, given that the unadjusted sample results will be, by the sampling design, not representative of that target population while the adjusted results aim to be.</p>
</details>
</section>
<section id="step-4-run-the-complex-design-adjusted-linear-regression-model" class="level3">
<h3 class="anchored" data-anchor-id="step-4-run-the-complex-design-adjusted-linear-regression-model">Step 4: run the complex design adjusted linear regression model</h3>
<p><a href="https://youtu.be/SIgR57AbJwA">Video instructions: run the complex design adjusted linear regression model</a></p>
<p><strong>Written instructions: run the complex design adjusted linear regression model</strong></p>
<details>
<summary>
Read/hide
</summary>
<p>We are now ready to produce our analytical inferential statistics via our linear regression model. Again we can just use our existing complex samples plan file to adjust for the complex design features using the appropriate complex design linear regression tool.</p>
<ul>
<li><p>From the main menu go: <mark>Analyse &gt; Complex Samples &gt; General Linear Model</mark>. Remember a general linear model is a synonym for a linear regression.</p></li>
<li><p>On the <mark>Complex Samples Plan for General Linear Model</mark> tool click <mark>Continue</mark>. Now add water_time into the <mark>Dependent Variable:</mark> box and location into the <mark>Factors:</mark> box.</p></li>
<li><p>Next click the <mark>Statistics</mark> button and in the <mark>Model Parameters</mark> area ensure the <mark>Estimate</mark> and <mark>Confidence interval</mark> boxes are ticked, along with the <mark>Model Fit</mark> and <mark>Sample design information</mark> boxes below. Then click <mark>Continue</mark>.</p></li>
<li><p>We can ignore the <mark>Hypothesis Tests</mark> button and the <mark>Estimated Means</mark> button, but click the <mark>Save</mark> button and in the <mark>Save Variables</mark> are ensure the <mark>Predicted Values</mark> and <mark>Residuals</mark> boxes are ticked then click <mark>Continue</mark>.</p></li>
<li><p>We can also ignore the <mark>Options</mark> box so just click <mark>OK</mark>.</p></li>
</ul>
</details>
</section>
<section id="step-5-check-the-assumptions-of-the-complex-design-linear-regression-model" class="level3">
<h3 class="anchored" data-anchor-id="step-5-check-the-assumptions-of-the-complex-design-linear-regression-model">Step 5: check the assumptions of the complex design linear regression model</h3>
<p>However, as always before interpreting the results we should check the model’s assumption are not violated. In particular, we should check that the residuals are approximately normally distributed and not heteroscedastic. To check the first of these just plot a histogram of the saved residual values (the variable should be called Residual).</p>
<p>What do you see?</p>
<details>
<summary>
Read/hide
</summary>
<p>The residuals are clearly strongly right-skewed!</p>
</details>
<p>Therefore, we can either try and transform the outcome or use an alternative analysis. For now let’s see how we would interpret the results assuming that the assumptions were not violated, and then we will leave it as an exercise for you to re-run the model with a transformed outcome to see if that solves things, and then interpret the back-transformed results.</p>
<p>Note: in a real analysis you should check all assumptions are not violated. Just follow the instructions in the “Step 2: check the assumptions of the linear regression” section in the linear regression practical for guidance, and use the Residuals and Predicted variables produced by the complex design adjusted linear regression we just ran accordingly.</p>
</section>
<section id="step-6-understand-the-results-tables" class="level3">
<h3 class="anchored" data-anchor-id="step-6-understand-the-results-tables">Step 6: understand the results tables</h3>
<p>After running the model we see four tables (scroll up from the residual histogram you should have just created and anything else you’ve done since running the model).</p>
<p>The <strong>Sample Design Information</strong> table tells us some important things about our sample and design. In particular, it tells us how many cases (in our case women) were missing or not missing from the analysis, i.e.&nbsp;our effective sample size: these are the valid and invalid <strong>N</strong> values, as well as the total unweighted sample size (<strong>Total N</strong>). It also tells us the estimated size of the target population, but this is only valid if the weights are not “normalised” to have a mean of 1, which DHS weights areso you can ignore this. It also tells us the number of strata (<strong>Strata</strong>) and clusters (<strong>Units</strong>), which serves as a check if all strata and clusters were included in the analysis or if any were left out due to missing observations in those strata/clusters.</p>
<p>The <strong>Model Summary</strong> table tells us the R² value for the model, although frustratingly not the more robust and useful <em>adjusted</em> R² value!</p>
<p>We can ignore the <strong>Test of Model Effects</strong> table as this is an ANOVA type table and not really useful.</p>
<p>Then we have our familiar <strong>Parameter Estimates</strong> table where we get our key inferential results about the relationships between the independent variables and the outcome in the model. These are interpreted in exactly the same way as the linear regression coefficients from a linear regression that does not adjust for any complex design features. Therefore, refer back to the “Step 6: report and interpret the results” section of the linear regression practical, and in particular the sub-sections “Numerical variables” and “Categorical variables”, for a reminder if needed.</p>
</section>

<section id="exercise-2-describe-the-mean-time-in-minutes-women-report-it-takes-them-to-collect-water" class="level2">
<h2 class="anchored" data-anchor-id="exercise-2-describe-the-mean-time-in-minutes-women-report-it-takes-them-to-collect-water">Exercise 2: describe the mean time (in minutes) women report it takes them to collect water</h2>
<ul>
<li>Use the “Descriptives” tool within the “Complex Samples” tool to estimate the mean time women report it takes them to collect water. It should be now be pretty straight forward what to do, but make sure to click on the “Statistics” button to ensure you tell SPSS to calculate the necessary statistics to address this descriptive inferential question.</li>
</ul>
<p>What are plausible values given the confidence intervals of the estimate?</p>
<details>
<summary>
Read/hide
</summary>
<p>It looks like the likely population mean is between 23.6 and 25.6 minutes. So we appear to have an extremely precise estimate of the population mean, assuming we have no/minimal bias in the study!</p>
</details>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>