<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>independent-t-test</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./independent-t-test.html">6. Bivariate tests for numerical variables</a></li><li class="breadcrumb-item"><a href="./independent-t-test.html">6.1. Independent t-test</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datasets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./website-information.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to use this website</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability-sampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Probability sampling</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">2. Introducing SPSS &amp; preparing data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction-to-spss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.1. Introducing SPSS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preparing-a-dataset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.2. Preparing a dataset</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sample-description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Data exploration &amp; sample description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./population-description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Population description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sample-size.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. Sample size calculations</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">6. Bivariate tests for numerical variables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./independent-t-test.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">6.1. Independent t-test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./independent-t-test-skewed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6.2. Independent t-test with skewed data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./paired-t-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6.3. Paired t-test</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">7. Bivariate tests for categorical variables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chi-sq-independence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.1. Chi-square test of independence</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chi-sq-goodness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.2. Chi-square goodness of fit test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./paired-categorical-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.3. Paired categorical variable test (McNemar’s test)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">8. Regresson modelling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linear-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.1. Linear regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./logistic-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.2. Logistic regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./complex-sampling-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9. Complex sampling design analysis</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-independent-t-test" id="toc-the-independent-t-test" class="nav-link active" data-scroll-target="#the-independent-t-test">The independent t-test</a></li>
  <li><a href="#rationale" id="toc-rationale" class="nav-link" data-scroll-target="#rationale">Rationale</a></li>
  <li><a href="#practice" id="toc-practice" class="nav-link" data-scroll-target="#practice">Practice</a>
  <ul class="collapse">
  <li><a href="#scenario" id="toc-scenario" class="nav-link" data-scroll-target="#scenario">Scenario</a></li>
  <li><a href="#exercise-1-use-the-independent-t-test-to-analyse-how-the-mean-level-of-systolic-blood-pressure-mmhg-differs-between-individuals-40-and-40" id="toc-exercise-1-use-the-independent-t-test-to-analyse-how-the-mean-level-of-systolic-blood-pressure-mmhg-differs-between-individuals-40-and-40" class="nav-link" data-scroll-target="#exercise-1-use-the-independent-t-test-to-analyse-how-the-mean-level-of-systolic-blood-pressure-mmhg-differs-between-individuals-40-and-40">Exercise 1: use the independent t-test to analyse how the mean level of systolic blood pressure (mmHg) differs between individuals &lt;=40 and &gt;40</a>
  <ul class="collapse">
  <li><a href="#step-1-create-a-binary-independent-variable-from-a-numerical-variable" id="toc-step-1-create-a-binary-independent-variable-from-a-numerical-variable" class="nav-link" data-scroll-target="#step-1-create-a-binary-independent-variable-from-a-numerical-variable">Step 1: create a binary independent variable from a numerical variable</a></li>
  <li><a href="#step-2-check-the-assumptions-of-the-independent-t-test-are-not-violated" id="toc-step-2-check-the-assumptions-of-the-independent-t-test-are-not-violated" class="nav-link" data-scroll-target="#step-2-check-the-assumptions-of-the-independent-t-test-are-not-violated">Step 2: check the assumptions of the independent t-test are not violated</a></li>
  <li><a href="#step-3-run-the-independent-t-test" id="toc-step-3-run-the-independent-t-test" class="nav-link" data-scroll-target="#step-3-run-the-independent-t-test">Step 3: run the independent t-test</a></li>
  <li><a href="#step-4-understand-the-results-tables-and-extract-the-key-results" id="toc-step-4-understand-the-results-tables-and-extract-the-key-results" class="nav-link" data-scroll-target="#step-4-understand-the-results-tables-and-extract-the-key-results">Step 4: understand the results tables and extract the key results</a></li>
  <li><a href="#step-5-report-and-interpret-the-results" id="toc-step-5-report-and-interpret-the-results" class="nav-link" data-scroll-target="#step-5-report-and-interpret-the-results">Step 5: report and interpret the results</a></li>
  </ul></li>
  <li><a href="#exercise-2-use-the-independent-t-test-to-analyse-how-the-mean-level-of-systolic-blood-pressure-mmhg-differs-between-individuals-with-bmi-30-kgm²-and-30-kgm²" id="toc-exercise-2-use-the-independent-t-test-to-analyse-how-the-mean-level-of-systolic-blood-pressure-mmhg-differs-between-individuals-with-bmi-30-kgm²-and-30-kgm²" class="nav-link" data-scroll-target="#exercise-2-use-the-independent-t-test-to-analyse-how-the-mean-level-of-systolic-blood-pressure-mmhg-differs-between-individuals-with-bmi-30-kgm²-and-30-kgm²">Exercise 2: use the independent t-test to analyse how the mean level of systolic blood pressure (mmHg) differs between individuals with BMI &lt;30 kg/m² and ≥30 kg/m²</a>
  <ul class="collapse">
  <li><a href="#example-independent-t-test-results-reporting-text" id="toc-example-independent-t-test-results-reporting-text" class="nav-link" data-scroll-target="#example-independent-t-test-results-reporting-text">Example independent t-test results reporting text</a></li>
  </ul></li>
  <li><a href="#next-steps-optional" id="toc-next-steps-optional" class="nav-link" data-scroll-target="#next-steps-optional">Next steps (optional)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="the-independent-t-test" class="level1">
<h1>The independent t-test</h1>
<hr>
<p>In this practical we will practice applying the independent t-test to analyse the relationship between a normally distributed numerical outcome and a binary independent variable, or put in more real-world terms: whether and by how much the mean of a numerical outcome differs between two groups.</p>
<p><br></p>
</section>
<section id="rationale" class="level1">
<h1>Rationale</h1>
<hr>
<p>The independent t-test allows you to compare whether two independent groups differ in their mean values for a numerical outcome, assuming that the values of the outcome are approximately normally distributed in each group (although it’s quite robust even if the outcome values are pretty non-normally distributed in each group). The term “independent t-test” can often be used just to refer to a hypothesis test, and therefore effectively just a p-value, but we will focus on using it (or more broadly the t-distribution) to estimate the mean difference in a numerical outcome between two groups and the confidence intervals around that mean difference, because as you hopefully now appreciate that tells us so much more about the likely direction and size/magnitude of the relationship of interest in the target population than just a p-value!</p>
<p>For example, if you wanted to analyse whether a group of women had a different mean systolic blood pressure from a group of men. Note: with the independent t-test the independent variable is binary and might naturally consist of a categorical variable with just two levels (like sex if there are just the levels female and male). Or we might construct a binary variable from a categorical variable with &gt;2 levels (e.g.&nbsp;reclassifying socio-economic status from low, medium and high levels to just low/medium and high levels by pooling individuals in the low and medium levels). Or we might create a binary variable from a numerical variable based on a threshold cut-off (e.g.&nbsp;BMI ≤20 vs BMI &gt;20). We’ll look at the last of these scenarios as it requires a bit more preparation, so you will know how to do this if needed in SPSS.</p>
<p><br></p>
</section>
<section id="practice" class="level1">
<h1>Practice</h1>
<hr>
<section id="scenario" class="level2">
<h2 class="anchored" data-anchor-id="scenario">Scenario</h2>
<p>You and your colleagues have been tasked by the Kapilvastu district authorities in Nepal to help them understand the problem of high blood pressure and hypertension, and the associations between socio-demographic and health related characteristics and blood pressure level/hypertension. You have carried out a cross-sectional survey to address these aims, and collected data on systolic blood pressure, common socio-demographic characteristics, and some additional health-related characteristics. As per your statistical analysis plan you need to explore the association between important characteristics and levels of systolic blood pressure. These are therefore descriptive research questions, as we do not assume any causal relationship are necessarily behind any observed relationships, and the aim of these analyses is to help policy makers target preventative efforts at the most at-risk groups, as identified by their key characteristics.</p>
<p>Below we will just look at one of these associations. Specifically, the association between age, when grouped as individuals &lt;=40 and individuals &gt;40, and the level of systolic blood pressure in mmHg.</p>
</section>
<section id="exercise-1-use-the-independent-t-test-to-analyse-how-the-mean-level-of-systolic-blood-pressure-mmhg-differs-between-individuals-40-and-40" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1-use-the-independent-t-test-to-analyse-how-the-mean-level-of-systolic-blood-pressure-mmhg-differs-between-individuals-40-and-40">Exercise 1: use the independent t-test to analyse how the mean level of systolic blood pressure (mmHg) differs between individuals &lt;=40 and &gt;40</h2>
<section id="step-1-create-a-binary-independent-variable-from-a-numerical-variable" class="level3">
<h3 class="anchored" data-anchor-id="step-1-create-a-binary-independent-variable-from-a-numerical-variable">Step 1: create a binary independent variable from a numerical variable</h3>
<p>Of course you may be interested in the relationship between a numerical outcome an independent variable that is already binary, e.g.&nbsp;sex with levels of female and male, but this is a good opportunity to see how we can get SPSS to convert a numerical variable into a binary variable based on a threshold cut-point.</p>
<ul>
<li>Load the “SBP data final.sav” SPSS dataset.</li>
</ul>
<p><a href="https://youtu.be/DPphng9PC4Q">Video instructions: create a binary independent variable from a numerical variable</a></p>
<p><strong>Written instructions: create a binary independent variable from a numerical variable</strong></p>
<details>
<summary>
Read/hide
</summary>
<p>Next we need to create a two-level categorical variable defining our younger and older individuals. Usually you should choose the cut-point at which you define your two-levels based on theory or some sensible motivation (e.g.&nbsp;the age at which prior research suggests blood pressure may often change), but here let’s just compare those individuals above and below the <em>median age</em>, which is 40. We therefore want to create a variable that classifies every individual as either ≤40 or &gt;40.</p>
<ul>
<li>First, we can use the <mark>Compute Variable</mark> tool to create a new variable based on a logical test of whether the value in the original age variable is ≤40 or not. This will create a new variable that has the value 0 if the participant’s age is &gt;40 and the value 1 if their age is ≤40 (i.e.&nbsp;if the logical check we asked SPSS to do on the original age variable is TRUE then the new variable’s value is 1). From the main menu go: <mark>Transform &gt; Compute Variable</mark>. Then in the <mark>Compute Variable</mark> tool enter “age_young_old” as the name for the new variable in the <mark>Target Variable:</mark> box. Then in the <mark>Numeric Expression:</mark> box enter:</li>
</ul>
<blockquote class="blockquote">
<p>age &lt;= 40</p>
</blockquote>
<p>Then click <mark>OK</mark>.</p>
<ul>
<li><p>The <mark>output window</mark> will appear. Minimise this to go back to the main window and go to the <mark>Variable View</mark>. You should now see our new variable age_young_old has appeared. Let’s give it a variable label so it’s well described in SPSS: Age (0 = &gt;40 / 1 = &lt;=40). Then let’s give it some value labels so each level is well described. As it was created from a logical expression it takes only two values: 0 or 1. 1 should be coded as “≤40”, because when the participant’s age was less than or equal to 40 the logical expression would be true and the new variable would take the value 1. Similarly 0 should be coded as “&gt;40” as the logical expression would be false and the value set to 0. Check back to the instructions on adding value labels or ask if you need help.</p></li>
<li><p>Lastly, once that’s done you should always do a quick check that the variable has been created correctly using a “cross tabulation” between our old and new age variable. In the main menu go: <mark>Analyse &gt; Descriptive Statistics &gt; Crosstabs</mark>. Then in the <mark>Crosstabs</mark> tool add the original age variable into the <mark>Row(s):</mark> box and the new categorical binary age variable into the <mark>Column(s):</mark> box and click <mark>OK</mark>. If you’ve created the new age variable correctly all ages ≤40 should be counted in the age &lt;=40 column and all ages &gt;40 in the new age variable age &gt;40 column. Always perform such checks when creating new variables!</p></li>
</ul>
</details>
</section>
<section id="step-2-check-the-assumptions-of-the-independent-t-test-are-not-violated" class="level3">
<h3 class="anchored" data-anchor-id="step-2-check-the-assumptions-of-the-independent-t-test-are-not-violated">Step 2: check the assumptions of the independent t-test are not violated</h3>
<details>
<summary>
Read/hide
</summary>
<p>Whenever you run a statistical analysis you must ensure that the assumptions of the analysis are not violated, otherwise the results may not be valid or even meaningful. For simple analyses like the independent t-test we can check the assumptions before we run the test, but for more sophisticated analyses such as regression models we typically check the assumptions after running the analysis because SPSS produces the information to make the necessary checks only after running the analysis.</p>
<p>The independent t-test makes the following assumptions:</p>
<p><strong>1. Continuous outcome</strong></p>
<p>Technically an independent t-test assumes a continuous outcome variable, but as long as assumptions 2 and 3 below are satisfied it’s fine to use a discrete outcome with an independent t-test. Here our outcome is continuous. Note: ideally when analysing a discrete outcome you would use a more specific model like a Poisson or negative binomial model, but this is beyond the scope of this introductory course.</p>
<p><strong>2. Independent groups (hence the “independent t-test”)</strong></p>
<p>This means the observations in each group cannot be related. You can only really verify this by knowledge of your study design. With the SBP data the study took a <strong>simple random sample</strong> of individuals and we are then dividing them into two groups based on an age threshold. Therefore, by definition the two groups are statistically independent as all observations represent separate, randomly sampled individuals.</p>
<p>Typically groups are only not independent in two situations. First, if you were taking repeated measurements from the same set of individuals but treating the measurements at each time period as different “groups”. Here there would be correlations between the measurements at the different time periods within individuals. Second, if you were taking measurements from two groups of separate individuals, but the individuals in the two groups were not statistically independent. For example, if there were different families with members in both the age groups, or if there were individuals from the same work places within each group. Again, in such situations there would be correlations between members of the same family or work place (e.g.&nbsp;due to genetics or shared risk factors etc).</p>
<p>Here our groups or observations are clearly independent as the individuals in the study were randomly sampled and the two groups contain separate individuals.</p>
<p><strong>3. The outcome is approximately normally distributed within each group</strong></p>
<p>Note: technically it is the “residuals” or “model errors” that need to be normally distributed, which are the differences between the observed values of the data and the “model predicted values”. For a t-test these are simply the differences between the observed values of the data and the mean of the relevant group that the observation comes from, which actually means that for a t-test the residuals are identical to the observed values and so you can just view the distribution of the observed data. For more complicated regression models we’ll see that we need to calculate and plot the residuals separately.</p>
<p>To check the distribution of the residuals within each group you can use statistical tests, but most statisticians would recommend using graphical methods. We can visually check these two distributions easily in SPSS using histograms as follows. From the main menu go: <mark>Graphs &gt; Legacy Dialogues &gt; Histogram</mark>. Then add the sbp variable into the <mark>Variable:</mark> box, then add the age_young_old variable into the <mark>Rows:</mark> box, tick the <mark>Display normal curve</mark> box and then click <mark>OK</mark>. You’ll see a histogram for the sbp variable for each age group. As you can see the outcome approximates a normal distribution fairly well for the ≤40 age (this is probably as good as you would see with real data), and is slightly right skewed for the &gt;40 age group. However, as previously mentioned the t-test is pretty robust to slightly skewed outcomes so this is nothing to worry about, and we can assume this assumption is met. Below are some examples of suitably and unsuitably distributed data for you to compare with for future reference.</p>
<p><strong>Examples of suitably and unsuitably distributed data for t-tests</strong></p>
<details>
<summary>
Read/hide
</summary>
<p>Students (and researchers) often struggle with knowing whether an analysis’s assumptions have been violated or not, and for good reason because it usually involves judgement based on experience. For the t-test like most analyses requiring normality there is no agreed “threshold” for when the skewness of a variable is considered “non-normal”. However, as t-tests and regression models are fairly robust to some non-normality the following examples should hopefully give you a sense of when you are okay to go ahead and when you are violating the assumptions and need to transform the data or use a different model.</p>
<p><strong>A. Probably suitably <em>approximately</em> normally distributed data within each group for a t-test, with n = 50 per group:</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/t-test normal equal data n=100.jpg" class="img-fluid figure-img"></p>
<figcaption>Approximately normal (and approximately equal variance) data in each group of a t-test, n = 50 per group</figcaption>
</figure>
</div>
<p>With only 50 data points per group the distribution is pretty “lumpy” but you can see an approximate normal distribution in both groups, although less so for the lower group. Also note: these data are generated from a normal distribution, so you can see that when your sample size is low even with artificially simulated data from a known normal distribution the resulting sample can often be only somewhat approximately normal! You can also see that the variance in both groups looks approximately normal, which satisfies our next assumption (see below).</p>
<p><strong>B. Highly suitably normally distributed data within each group for a t-test, with n = 500 per group:</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/t-test normal equal data n=1000.jpg" class="img-fluid figure-img"></p>
<figcaption>Approximately normal (and approximately equal variance) data in each group of a t-test, n = 500 per group</figcaption>
</figure>
</div>
<p>Now with 500 data points per group simulated from the same distribution unsurprisingly the distribution looks much more suitably normal.</p>
<p><strong>C. Probably not suitably normally distributed data within each group for a t-test, with n = 50 per group:</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/t-test non-normal non-equal data n=100.jpg" class="img-fluid figure-img"></p>
<figcaption>Non-normal (and non-equal variance) data in each group of a t-test, n = 50 per group</figcaption>
</figure>
</div>
<p>You may think it doesn’t look much different from the first image, and you’d be right. Again, it comes down to judgement but when sample sizes are small there’s a lot of subjectivity involved. These data are simulated from a right-skewed “version” of the normal distribution. If you are concerned one option is to run your test on the raw data and then transform the data (we’ll see later how to do this) and re-run the test and see if the results change much, and just report both. This is called a sensitivity analysis.</p>
<p>You can also see that there is a lot more variance in the lower group’s data, which would violate our next assumption (see below).</p>
<p><strong>D. Definitely not suitably normally distributed data within each group for a t-test, with n = 500 per group:</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/t-test non-normal non-equal data n=1000.jpg" class="img-fluid figure-img"></p>
<figcaption>Non-normal (and non-equal variance) data in each group of a t-test, n = 500 per group</figcaption>
</figure>
</div>
<p>Now with 500 observations per group it’s clear that there is some definite right-skew in the distribution of both group’s data, and that there is considerably more variance in the lower group.</p>
</details>
<p><strong>4. Equal variances in each group</strong></p>
<p>This means that the variance (dispersion or spread) of outcome values is approximately the same in each group. We can check this by looking at the p-value for a test of this assumption called “Levene’s test of equality of variances” or by comparing the histograms from the two groups. SPSS produces the results of the Levene’s test when we run the t-test, so we will evaluate the results of this test/assumption once we’ve produced our t-test results below. Note: if this test is significant (P&lt;0.05) we can simply use the results from the version of the t-test that doesn’t assume equal variances in each group. The only disadvantage is that we lose a little bit of statistical power, but typically it’s not much and the results will be very similar. Hence, although we’ll interpret the “equal variances assumed” version of the t-test below it’s probably a better practice to just always use the more conservative but robust and safer set of results that do not assume equal variances is each group.</p>
</details>
</section>
<section id="step-3-run-the-independent-t-test" class="level3">
<h3 class="anchored" data-anchor-id="step-3-run-the-independent-t-test">Step 3: run the independent t-test</h3>
<p><a href="https://youtu.be/jHGKbgDWuio">Video instruction: run the independent t-test</a></p>
<p><strong>Written instruction: run the independent t-test</strong></p>
<details>
<summary>
Read/hide
</summary>
<ul>
<li><p>In the main menu go: <mark>Analyse &gt; Compare Means &gt; Independent Samples T Test</mark>. Then in the <mark>Independent-Samples T Test</mark> tool add the sbp variable into the <mark>Test Variable(s):</mark> box. Then add our new independent variable for age group (at the bottom of the list) into the <mark>Grouping Variable:</mark> box and click <mark>Define Groups…</mark>. This is where we tell SPSS what numerical values code for each of our two groups, and what way round we want to compare the two groups. Remember we created the age variable so that it took the value “0” for individuals &gt;40 and “1” for individuals ≤40. Let’s compare individuals &gt;40 to individuals ≤40. When it comes to comparing the groups this tells SPSS subtract the mean outcome in group 0 from group 1, i.e.&nbsp;the mean systolic blood pressure for individuals &gt;40 minus the mean systolic blood pressure for individuals ≤40. To do this ensure the <mark>Use specified values</mark> option is selected and add the value “0” to <mark>Group 1:</mark> and the value “1” to <mark>Group 2:</mark>.</p></li>
<li><p>Note: you can of course swap the coding values around and compare individuals ≤40 to individuals &gt;40 and your results will be reversed but otherwise identical. Neither choice is necessarily “correct” it just depends on which way round you want the groups compared. If, in your version of SPSS, there is a box called <mark>Estimate effect sizes</mark> below the <mark>Grouping variable:</mark> options make sure this is not ticked. Finally click <mark>Continue</mark> and then <mark>OK</mark>. You’ll now see the <mark>output window</mark> appear with our results!</p></li>
</ul>
</details>
</section>
<section id="step-4-understand-the-results-tables-and-extract-the-key-results" class="level3">
<h3 class="anchored" data-anchor-id="step-4-understand-the-results-tables-and-extract-the-key-results">Step 4: understand the results tables and extract the key results</h3>
<p>Now we’ve verified the first two assumptions of the independent t-test (independent observations and approximately normally distributed residuals) let’s look at the results tables where we can check the third assumption (equal variances in each group), extract the key results and interpret them.</p>
<p>So what do the tables mean?</p>
<hr style="border: 3px solid grey">

<p><strong>Group Statistics table explained</strong></p>
<hr style="border: 1px solid grey">

<p>The first table we see gives us descriptive statistics for the outcome variable for each level of our categorical independent variable.</p>
<ul>
<li><p>First, make sure you look at and record the values under the “N” column, which are the group sample sizes, and check they match what they should be. You should see there were 295 individuals in the ≤40 group and 248 individuals in the &gt;40 age group. These sum to 543, which is less than the total number of individuals in the dataset: 556. There are three reasons why this might be: either some individuals are missing values for the outcome or the independent variable or both variables. We know from when we prepared the dataset that some individuals are indeed missing values for their systolic blood pressure. You can quickly check this by going to the <mark>Data view</mark>, right clicking on the sbp variable and selecting <mark>Descriptive Statistics</mark>. In the <strong>Statistics</strong> results table that appears you should see that there are indeed 13 individuals with missing values for sbp, and hence only 543 individuals with complete data on this variable, which explains the sample size of the independent t-test.</p></li>
<li><p>Next make sure you look at and record the mean value of the outcome for each group under the “Mean” column. You should see the mean systolic blood pressure (mmHg) was 128.2 for individuals &gt;40 and 125.1 for individuals ≤40 (rounded to 1 decimal place).</p></li>
</ul>
<hr style="border: 1px solid grey">

<hr style="border: 3px solid grey">

<p><strong>Independent Samples Test</strong></p>
<hr style="border: 1px solid grey">

<p>This table gives us the results of the t-test we’re interested in, although SPSS lays out the results less than clearly in my opinion. Here’s what they all mean.</p>
<hr style="border: 1px dashed white">

<p><strong>Levene’s Test for Equality of Variances section columns explained</strong></p>
<hr style="border: 1px dashed white">

<p>Under this part of the table are results that relate to a statistical test that is totally separate to the independent t-test called “Levene’s test for equality of variances”. This tests whether the variance (spread) of the outcome in each group is approximately equal. If they are not then this assumption is violated and we must only use the results from the version of the independent t-test that accounts for this.</p>
<p><strong>F</strong></p>
<ul>
<li>The F-value is the test statistic for the Levene’s test for equality of variances. You can ignore it as it is used to calculate the corresponding p-value of the test (see below), which is all we are interested in.</li>
</ul>
<p><strong>Sig.</strong></p>
<ul>
<li><p>The “Sig.” value is just the p-value associated with the test statistic (i.e.&nbsp;the F-value). For some reason SPSS always refers to p-values with a “Sig.” column heading. The null hypothesis for the Levene’s test is that the variances in both groups are equal. Therefore, if the p-value (“Sig.”) is &lt;0.05 this indicates that the variances in the two groups are <em>unlikely to be equal</em>. If this is the case it is then safer to use the version of the <em>independent t-test</em> that does not assume equal variances. Results from both versions of the independent t-test are presented. Just look at the far left of the table and you can see the top row of results are for the “Equal variances assumed” version and the bottom row for the “Equal variances not assumed” version.</p></li>
<li><p>Here you should see that the p-value for the test is <strong>0.244</strong>, i.e.&nbsp;it’s &gt;0.05. Therefore, we can assume the variances are approximately equal in each group. Hence, we can use the results for the independent t-test from the row called <strong>Equal variances assumed</strong> (see below).</p></li>
<li><p><strong>Note: SPSS only gives p-values to 3 decimal places, so when it says “0.001” it means the p-value is actually &lt;0.001. Therefore, you should write P&lt;0.001.</strong></p></li>
</ul>
<hr style="border: 1px dashed white">

<p><strong>t-test for Equality of Means section columns explained</strong></p>
<hr style="border: 1px dashed white">

<p>Under this part of the table are the results for the actual independent t-test. We will use those from the row/version that do not assume equal variances.</p>
<p><strong>t</strong></p>
<ul>
<li>This is the value of the t-test statistic which is used when calculating the p-value. We can ignore this and just interpret the p-value directly (and of more use the confidence intervals).</li>
</ul>
<p><strong>df</strong></p>
<ul>
<li>This is the degrees of freedom which form part of the calculation of the test statistic (calculated as: n - 2). You can typically ignore this but it should closely match your “true” sample size, i.e.&nbsp;the number of genuinely independent observations.</li>
</ul>
<p><strong>Sig. (2-tailed)</strong></p>
<ul>
<li><p>This is the two-tailed p-value for the independent t-test. The “two-tailed” part means that it allows for the possibility that the difference between the two groups may be positive or negative, i.e.&nbsp;either group might have a greater mean than the other. The null hypothesis of the independent t-test is that the “true” difference between the two groups in the target population from which the sample was taken is exactly 0. Therefore, this p-value tells us how likely we are to have observed data giving a mean difference at least as great or greater (in either direction) as the one observed. Alternatively, you can more loosely interpret it as a probability measure of how consistent the data are with the null hypothesis of no difference. Again note that SPSS only gives p-values to 3 decimal places, so when it says 0.001 it means the p-value is &lt;0.001.</p></li>
<li><p>Here you should see that the p-value is <strong>0.072</strong>.</p></li>
</ul>
<p><strong>Mean Difference</strong></p>
<ul>
<li><p>This is the difference between the mean of the outcome for the group that we set as “Group 1” minus the mean of the outcome for “Group 2”. For us this means the mean SBP of participants aged &gt;40 minus the mean SBP of those aged ≤40. It therefore tells us the direction and size of any difference, and is therefore a key result/statistic from the test. You can swap the coding of the groups around if it makes more sense (just go back and re-run the analysis but change the coding), but the difference will be reversed (i.e.&nbsp;a positive difference will become a negative difference).</p></li>
<li><p>Here you should see that the mean difference (rounded to one decimal place) is <strong>3.1</strong>.</p></li>
</ul>
<p><strong>Std. Error Difference</strong></p>
<ul>
<li>This is the standard error of the mean difference, which estimates the sampling variability associated with our estimate of the parameter in the target population. This is used when calculating the 95% confidence intervals and the p-value. You can ignore it and just interpret the confidence intervals and p-value.</li>
</ul>
<p><strong>95% Confidence Interval of the Difference (Lower and Upper)</strong></p>
<ul>
<li><p>These are the estimated lower and upper 95% confidence intervals around the estimated mean difference, which is the point estimate or best single estimate of the mean difference in the target population. Formally speaking, if we repeated our study an infinite (or very large number) of times and each time we calculated the mean difference and the 95% confidence interval around those mean differences then 95% of those 95% confidence intervals would contain the true mean difference found in the target population (i.e.&nbsp;the mean difference that we would find if we sampled 100% of the target population). Informally speaking we can think of the 95% confidence intervals as defining a range of values that are consistent with the likely/probable true mean difference in the target population based on the sampled data.</p></li>
<li><p>Here you should see that the lower and upper confidence intervals for the mean difference (rounded to one decimal place) are -0.3 and 6.4.</p></li>
</ul>
<hr style="border: 1px solid grey">

</section>
<section id="step-5-report-and-interpret-the-results" class="level3">
<h3 class="anchored" data-anchor-id="step-5-report-and-interpret-the-results">Step 5: report and interpret the results</h3>
<p><strong>Reporting the results</strong></p>
<p>In a methods section you should explain that you used an independent t-test to analyse the data and justify why.</p>
<p>In a results section we would want to report the sample size, the mean of the outcome for each group, and the key results of the independent t-test (the mean difference, the 95% confidence intervals and the associated p-value). Therefore, we could write something like the following (using “n” as it is commonly used to refer to sample size):</p>
<blockquote class="blockquote">
<p>We compared the systolic blood pressure among individuals aged &gt;40 (n = 248) to those aged (n = 295). Among those aged &gt;40 the mean systolic blood pressure was 128.2 mmHg and among those aged ≤40 the mean systolic blood pressure was 125.1 mmHg. Using an independent t-test (equal variances assumed) we estimated that the mean difference in systolic blood pressure between those aged &gt;40 compared to those aged ≤40 was 3.1 mmHg (95% CI: -0.3, 6.4).</p>
</blockquote>
<ul>
<li><p>Note: the convention is to compactly present confidence intervals for estimated statistics in brackets like above, indicating the confidence level of the confidence interval (usually 95%), and to use a comma “,” or possibly the word “and” to separate the lower and upper confidence interval, but not a dash “-” as this can look like a negative symbol.</p></li>
<li><p>Also note: we are focusing on the mean difference and the confidence intervals, not the p-value here as it tells us nothing more and far less than those results do.</p></li>
<li><p>Lastly, if you felt it wasn’t clear where the inferential result had come from, say if you were reporting result from different analyses, then you should certainly make this clear in the results section too, e.g.&nbsp;you might say something like “based on an independent t-test the mean difference was…”.</p></li>
</ul>
<blockquote class="blockquote">
<p>Discussion: interpret the direction and size of the difference in terms of the implications for practice and policy. Is the difference “statistically significant”, i.e.&nbsp;can we make a clear inference that there even is a difference on average between the groups, and if so is it a small difference, a medium difference, a large difference etc in terms of what is being measured and the implications for practice and policy?</p>
</blockquote>
<p><strong>Interpreting the results</strong></p>
<p>How do we actually interpret these results then? Remember with statistical inference we are aiming to make a “probabilistic inference”, or a generalisation with some level of uncertainty, about the likely value of the population parameter of interest, which here is the mean difference in systolic blood pressure between individuals aged &gt;40 compared to individuals aged ≤40 in our target population, based on the data from our sample. And our confidence intervals around our sample statistic (the sample mean difference) are what allow us to do that. More specifically, the confidence intervals around the mean difference tell us that the mean difference in systolic blood pressure between individuals aged &gt;40 compared to individuals aged ≤40 in the target population is “quite likely” to be somewhere between -0.3 and 6.5 mmHg. Alternatively and equivalently we can interpret the results in terms of a randomly selected individual in our target population, and say that if we randomly selected one individual from the &lt;=40 group and one from the &gt;40 group then on average the systolic blood pressure of the individual in the &gt;40 would be “quite likely” to be between -0.3 mmHg <em>lower</em> to 6.5 mmHg <em>higher</em> than the individual in the ≤40 group.</p>
<p>Note: strictly or technically speaking our confidence intervals tell us how much error is associated with our <em>sampling process</em>, and that if we repeated our study many times 95% of the time the 95% confidence intervals that we obtained around our estimated mean difference would contain the true mean difference in the target population. Therefore, our interpretation of the value being “quite likely” to fall within our given confidence interval range is somewhat informal and loose.</p>
<p>Also note: critically this interpretation assumes that all other sources of bias are negligible, which is extremely unlikely! Therefore, you should always treat inferential results very carefully, and evaluate them in the context of how much likely bias there is in the results other than sampling error, which is the only source of bias that inferential statistics account for. E.g. if you knew there was likely a large amount of other sources of error in the study, such as some serious selection bias, then the 95% confidence intervals would not accurately reflect the total error or bias in the results because they can only account for sampling error in the absence of all other errors/bias.</p>
<p>Consequently, our confidence intervals indicate that we can’t have much confidence over whether there is even a positive or negative difference in systolic blood pressure between these two groups in the target population, let alone how big any difference is with any great precision. However, the result does tell us that the practical significance or clinical significance of the true difference in mean systolic blood pressure between these two groups is likely to be small, given the confidence intervals suggest it is likely to be at most just 6.5 mmHg (the confidence interval furthest from 0). Always remember though, this is a <em>probabilistic</em> result (not certain) and there is always still a non-negligible chance that the true difference is greater, possibly much greater, than we estimated, i.e.&nbsp;outside the range of the 95% confidence intervals, and as above this is actually inevitable with any study unless completely free of other sources of bias.</p>
<p>Lastly, note: when setting up the t-test if we swapped the order of the comparison around we would get the same result but expressed as the ≤40 age group compared to the &gt;40 age group, and so we’d get a mean difference of -3.1 mmHg (95% CI: -6.5, 0.3). Note the 95% confidence interval order is also reversed.</p>
</section>
</section>
<section id="exercise-2-use-the-independent-t-test-to-analyse-how-the-mean-level-of-systolic-blood-pressure-mmhg-differs-between-individuals-with-bmi-30-kgm²-and-30-kgm²" class="level2">
<h2 class="anchored" data-anchor-id="exercise-2-use-the-independent-t-test-to-analyse-how-the-mean-level-of-systolic-blood-pressure-mmhg-differs-between-individuals-with-bmi-30-kgm²-and-30-kgm²">Exercise 2: use the independent t-test to analyse how the mean level of systolic blood pressure (mmHg) differs between individuals with BMI &lt;30 kg/m² and ≥30 kg/m²</h2>
<p>Using the “SBP final data.sav” dataset and via the process outlined above use an independent t-test to analyse the relationship between BMI and systolic blood pressure.</p>
<ul>
<li><p>Divide bmi into two groups based on BMI values &lt;30 kg/m² and those ≥30 kg/m², which are the values typically used to define obesity when defined in terms of BMI.</p></li>
<li><p>Compare individuals with BMI values &lt;30 kg/m² to those with BMI values ≥30 kg/m² using the independent t-test.</p></li>
<li><p>Extract the mean difference and confidence intervals around this estimate.</p></li>
<li><p>In the “Exercises” folder open the “Exercises.docx” Word document and scroll down to <strong>Independent t-test: the relationship between BMI and systolic blood pressure</strong>.</p></li>
<li><p>Write a couple of sentences reporting the results of your analysis. Include the basic descriptive statistics: sample size, group sizes and group outcome means. Also be sure to include sufficient details about the outcome variable and the comparison made, including how the two independent groups were defined, as well as the type of analysis used, and of course the key inferential results. Round results to one decimal place. You don’t need to explain anything about the study or interpret the clinical or practical importance of the result.</p></li>
<li><p>Write a sentence or two about the key limitations of this analysis <em>in terms of interpreting the result</em>.</p></li>
<li><p>Once you’ve completed this compare your reporting to the below example text.</p></li>
</ul>
<section id="example-independent-t-test-results-reporting-text" class="level3">
<h3 class="anchored" data-anchor-id="example-independent-t-test-results-reporting-text">Example independent t-test results reporting text</h3>
<details>
<summary>
Read/hide
</summary>
<p>Using an independent t-test I analysed the association between BMI and systolic blood pressure (mmHg) for individuals having low compared to high BMI (&lt;30 kg/m² compared to ≥30 kg/m²). Out of a total sample size of 516 individuals, 419 individuals had a BMI &lt;30 kg/m² (mean systolic blood pressure = 121.6 mmHg) and 97 individuals had a BMI ≥30 kg/m² (mean systolic blood pressure = 146.7 mmHg). This represented a mean difference of -25 mmHg (95% CI: -28.9, -21.2) for those with a BMI &lt;30 kg/m² compared to those with a BMI ≥30 kg/m². Therefore, having a BMI &lt; 30 kg/m² appears to be associated with a substantially lower systolic blood pressure on average than having a BMI ≥30 kg/m².</p>
</details>
</section>
</section>
<section id="next-steps-optional" class="level2">
<h2 class="anchored" data-anchor-id="next-steps-optional">Next steps (optional)</h2>
<p>If you have time and want to practice and learn more you can try the following exercises:</p>
<ul>
<li><p>Repeat the independent t-test but reverse the coding of the groups to convince yourself that the results are identical but just reversed.</p></li>
<li><p>Use the independent t-test to analyse whether there is a difference in the mean systolic blood pressure between individuals from different socio-economic groups (ses variable). As there are three socioeconomic groups in the variable this would require you to first recode the ses variable into a new variable so that two of the socio-economic groups are pooled to give a binary variable.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>