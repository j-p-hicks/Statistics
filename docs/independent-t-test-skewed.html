<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>independent-t-test-skewed</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./independent-t-test.html">6. Bivariate tests for numerical variables</a></li><li class="breadcrumb-item"><a href="./independent-t-test-skewed.html">6.2. Independent t-test with skewed data</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./website-information.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to use this website</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./timetable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Computer sessions timetable</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability-sampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Probability sampling</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">2. Introducing SPSS &amp; preparing data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction-to-spss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.1. Introducing SPSS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preparing-a-dataset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.2. Preparing a dataset</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sample-description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Data exploration &amp; sample description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./population-description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Population description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sample-size.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. Sample size calculations</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">6. Bivariate tests for numerical variables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./independent-t-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6.1. Independent t-test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./independent-t-test-skewed.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">6.2. Independent t-test with skewed data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./paired-t-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6.3. Paired t-test</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">7. Bivariate tests for categorical variables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chi-sq-independence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.1. Chi-square test of independence</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chi-sq-goodness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.2. Chi-square goodness of fit test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./paired-categorical-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.3. Paired categorical variable test (McNemar’s test)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">8. Regresson modelling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linear-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.1. Linear regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./logistic-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.2. Logistic regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./complex-survey-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9. Complex survey design analysis</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-independent-t-test-usage-when-the-outcome-is-skewed" id="toc-the-independent-t-test-usage-when-the-outcome-is-skewed" class="nav-link active" data-scroll-target="#the-independent-t-test-usage-when-the-outcome-is-skewed">The independent t-test: usage when the outcome is skewed</a></li>
  <li><a href="#rationale" id="toc-rationale" class="nav-link" data-scroll-target="#rationale">Rationale</a></li>
  <li><a href="#practice" id="toc-practice" class="nav-link" data-scroll-target="#practice">Practice</a>
  <ul class="collapse">
  <li><a href="#scenario" id="toc-scenario" class="nav-link" data-scroll-target="#scenario">Scenario</a></li>
  <li><a href="#exercise-1-use-the-independent-t-test-to-analyse-how-the-mean-number-of-ebola-cases-per-village-differs-between-villages-with-10-individuals-per-100m²-and-those-with-10-per-100m²" id="toc-exercise-1-use-the-independent-t-test-to-analyse-how-the-mean-number-of-ebola-cases-per-village-differs-between-villages-with-10-individuals-per-100m²-and-those-with-10-per-100m²" class="nav-link" data-scroll-target="#exercise-1-use-the-independent-t-test-to-analyse-how-the-mean-number-of-ebola-cases-per-village-differs-between-villages-with-10-individuals-per-100m²-and-those-with-10-per-100m²">Exercise 1: use the independent t-test to analyse how the mean number of Ebola cases per village differs between villages with &lt;10 individuals per 100m² and those with ≥10 per 100m²</a></li>
  <li><a href="#step-1-check-the-assumptions-of-the-independent-t-test." id="toc-step-1-check-the-assumptions-of-the-independent-t-test." class="nav-link" data-scroll-target="#step-1-check-the-assumptions-of-the-independent-t-test.">Step 1: check the assumptions of the independent t-test.</a>
  <ul class="collapse">
  <li><a href="#continuous-outcome" id="toc-continuous-outcome" class="nav-link" data-scroll-target="#continuous-outcome">1. Continuous outcome</a></li>
  <li><a href="#independent-groups" id="toc-independent-groups" class="nav-link" data-scroll-target="#independent-groups">2. Independent groups</a></li>
  <li><a href="#the-outcome-is-approximately-normally-distributed-within-each-group" id="toc-the-outcome-is-approximately-normally-distributed-within-each-group" class="nav-link" data-scroll-target="#the-outcome-is-approximately-normally-distributed-within-each-group">3. The outcome is approximately normally distributed within each group</a></li>
  <li><a href="#equal-variances-in-each-group" id="toc-equal-variances-in-each-group" class="nav-link" data-scroll-target="#equal-variances-in-each-group">4. Equal variances in each group</a></li>
  </ul></li>
  <li><a href="#step-2-transform-the-outcome" id="toc-step-2-transform-the-outcome" class="nav-link" data-scroll-target="#step-2-transform-the-outcome">Step 2: transform the outcome</a></li>
  <li><a href="#step-3-run-the-independent-t-test" id="toc-step-3-run-the-independent-t-test" class="nav-link" data-scroll-target="#step-3-run-the-independent-t-test">Step 3: run the independent t-test</a></li>
  <li><a href="#step-4-understand-the-results-tables-and-extract-the-key-results" id="toc-step-4-understand-the-results-tables-and-extract-the-key-results" class="nav-link" data-scroll-target="#step-4-understand-the-results-tables-and-extract-the-key-results">Step 4: understand the results tables and extract the key results</a></li>
  <li><a href="#step-5-report-and-interpret-the-results" id="toc-step-5-report-and-interpret-the-results" class="nav-link" data-scroll-target="#step-5-report-and-interpret-the-results">Step 5: report and interpret the results</a></li>
  <li><a href="#additional-exercise-use-the-independent-t-test-to-analyse-how-the-mean-number-of-ebola-cases-per-village-differs-between-villages-with-5-community-healthcare-workers-and-those-5" id="toc-additional-exercise-use-the-independent-t-test-to-analyse-how-the-mean-number-of-ebola-cases-per-village-differs-between-villages-with-5-community-healthcare-workers-and-those-5" class="nav-link" data-scroll-target="#additional-exercise-use-the-independent-t-test-to-analyse-how-the-mean-number-of-ebola-cases-per-village-differs-between-villages-with-5-community-healthcare-workers-and-those-5">Additional exercise: use the independent t-test to analyse how the mean number of Ebola cases per village differs between villages with &lt;5 community healthcare workers and those ≥5</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="the-independent-t-test-usage-when-the-outcome-is-skewed" class="level1">
<h1>The independent t-test: usage when the outcome is skewed</h1>
<hr>
<p>In this practical we’ll practice using the independent t-test to analyse an outcome that is strongly skewed.</p>
<p><br></p>
</section>
<section id="rationale" class="level1">
<h1>Rationale</h1>
<p>What if, based on your research question, your data are apparently suitable for analysing via an independent t-test, but you found that the outcome was actually heavily skewed? This is particular common with count data (i.e.&nbsp;variables that can only take integer values from 0 onwards) where outcomes are typically right skewed because there are no negative counts, many low value counts and fewer higher value counts. To be clear there are more robust and tailored analytical approaches to analysing right-skewed data, such as generalised linear models (which are an extension of the linear model regression framework), but they are beyond this course. Therefore, given that the independent t-test assumes, at least approximately, normally distributed data within each comparison group, let’s look at one crude but often quite effective way we can still use the independent t-test to analyse an outcome with right-skew in relation to a binary independent variable.</p>
<hr>
</section>
<section id="practice" class="level1">
<h1>Practice</h1>
<section id="scenario" class="level2">
<h2 class="anchored" data-anchor-id="scenario">Scenario</h2>
<p>You and your colleagues have been tasked by the your district’s health authorities to help them deal with an outbreak of Ebola. Many villages are affected and case counts per village over the last month have been collected. The health authorities want to understand where best to focus their limited resources, so they want you to help them address a descriptive research question: what is the association between village density, specifically villages with &lt;10 individuals per 100m² compared to those with ≥10 per 100m², and the mean number of Ebola cases.</p>
</section>
<section id="exercise-1-use-the-independent-t-test-to-analyse-how-the-mean-number-of-ebola-cases-per-village-differs-between-villages-with-10-individuals-per-100m²-and-those-with-10-per-100m²" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1-use-the-independent-t-test-to-analyse-how-the-mean-number-of-ebola-cases-per-village-differs-between-villages-with-10-individuals-per-100m²-and-those-with-10-per-100m²">Exercise 1: use the independent t-test to analyse how the mean number of Ebola cases per village differs between villages with &lt;10 individuals per 100m² and those with ≥10 per 100m²</h2>
<ul>
<li>Load the “Ebola data.sav” SPSS dataset.</li>
</ul>
<p>Again this is a simulated dataset. There are three variables and every observation is meant to represent a record from a separate village in a hypothetical region suffering from an Ebola outbreak. The variables contain the following data:</p>
<ul>
<li><strong>n_ebola_cases</strong> = number of Ebola cases per village over the last month.</li>
<li><strong>n_chw</strong> = number of community health workers per village.</li>
<li><strong>pop_density</strong> = relative population density per village (1 = &lt;10 per 100m², 2 = ≥ 10 per 100m²).</li>
</ul>
<p>Using an independent t-test we’ll analyse whether there is a difference in the mean number of Ebola cases per village over the last month between villages with &lt;10 individuals per 100m² and those with ≥10 per 100m², i.e.&nbsp;between lower and higher density villages.</p>
</section>
<section id="step-1-check-the-assumptions-of-the-independent-t-test." class="level2">
<h2 class="anchored" data-anchor-id="step-1-check-the-assumptions-of-the-independent-t-test.">Step 1: check the assumptions of the independent t-test.</h2>
<section id="continuous-outcome" class="level3">
<h3 class="anchored" data-anchor-id="continuous-outcome">1. Continuous outcome</h3>
<p>Technically an independent t-test assumes a continuous outcome variable, but as long as the following two assumptions are satisfied it’s fine to use a discrete outcome with an independent t-test. Here our outcome is a discrete numerical variable.</p>
</section>
<section id="independent-groups" class="level3">
<h3 class="anchored" data-anchor-id="independent-groups">2. Independent groups</h3>
<p>We will assume this holds here as we didn’t build non-independence into the data, but it may well not hold if this was real data. Can you think why? It’s likely that villages that are closer together have correlated Ebola rates, given spread between villages that are closer together is more likely than between villages that are farther apart. If this was a big issue we could most simply aggregate or pool villages that are closer together to create cluster summary values of the outcome, if these clusters were large enough that there was negligible transmission between clusters, or we could use a more sophisticated technique like a multi-level regression model.</p>
</section>
<section id="the-outcome-is-approximately-normally-distributed-within-each-group" class="level3">
<h3 class="anchored" data-anchor-id="the-outcome-is-approximately-normally-distributed-within-each-group">3. The outcome is approximately normally distributed within each group</h3>
<p>See the “Step 1: check the assumptions of the independent t-test” section in the Inferential analysis 1: the independent t-test” section above for a reminder of how to do this using histograms, but this time use the n_ebola_cases variable as the outcome and the pop_density variable as the rows grouping variable in your histograms. You’ll see that the distribution of Ebola cases per population density group is right skewed, particularly for the lower density group. Ideally we’d analyse such data using a special model for count data like a Poisson or negative binomial model, but those approaches are beyond the scope of this introductory course.</p>
<p>Instead, we can try and transform the outcome to address the skew and then use an independent t-test that assumes normal data. There are many possible ways to transform data, and many are quite complicated and again beyond this course. However, for right skewed data two common and simple transforms that are often sufficient are to:</p>
<ul>
<li><p>Take the square root of every value.</p></li>
<li><p>Take the logarithm (usually the natural log) of every value.</p></li>
</ul>
<p>These transformations will hopefully “pull in” the right skewed values so the distribution becomes more symmetrical and approximately normal (although it will never be truly normal). Log transforms will pull any skew in more strongly than square root transforms and are often preferred and probably best to try first. Note: as you cannot take the square root or logarithm of negative numbers you can only apply these transformations to positive values. Also, while you can take the square root of 0 (it’s 0) you cannot take the logarithm of 0 (it’s “undefined”). Therefore, if your outcome has any values of 0 then you cannot take its logarithm unless you first add a constant to every value. This is a bit of a fudge type approach and is really not ideal, but it is done and people usually add a small value, maybe most often 1 (or sometimes 0.1), but there’s no right or wrong number really.</p>
</section>
<section id="equal-variances-in-each-group" class="level3">
<h3 class="anchored" data-anchor-id="equal-variances-in-each-group">4. Equal variances in each group</h3>
<p>We can either use the histograms we produce to compare variances in each group or use the result of the Levene’s test once we run the independent t-test.</p>
</section>
</section>
<section id="step-2-transform-the-outcome" class="level2">
<h2 class="anchored" data-anchor-id="step-2-transform-the-outcome">Step 2: transform the outcome</h2>
<p>Let’s create a ln (natural log) transformed variable using the <mark>Compute</mark> tool to deal with the right-skew in the outcome’s distribution within each group.</p>
<ul>
<li><p>First explore the variable by creating a frequency table. See the “Categorical variables” sub-section in the “Exercise: create a”Table 1” summarising the key characteristics of the SBP data study sample” section above if you need a reminder of how to create a frequency table. Note: these instructions were for categorical variables but you can use numerical variables too.</p></li>
<li><p>What do you notice about the range of the outcome? It includes 0. Therefore, we must add a constant before transforming via the logarithm. We’ll add 1 as it’s probably the most common value used in such a situation.</p></li>
<li><p>From the main menu go: <mark>Transform &gt; Compute Variable</mark>. Then in the <mark>Compute Variable</mark> tool call the new variable ln_n_ebola_cases, but this time enter the transform command “LN(n_ebola_cases+1)” (without quotes) and then click <mark>OK</mark>. This command first adds 1 to every outcome value before taking the natural log.</p></li>
<li><p>Once you’ve computed your log-transformed variable check the distribution of values for the transformed outcome in each group using histograms again. You should see that they look more normal now.</p></li>
</ul>
</section>
<section id="step-3-run-the-independent-t-test" class="level2">
<h2 class="anchored" data-anchor-id="step-3-run-the-independent-t-test">Step 3: run the independent t-test</h2>
<ul>
<li>Run an independent t-test comparing the mean of ln_n_ebola_cases between the lower and higher groups of the pop_density variable. If you can’t remember how to refer back to the previous “Step 3: run the independent t-test” section above. When defining the groups enter <mark>Group 1</mark> as “1” (the &lt;10 individuals per 100m² group) and <mark>Group 2</mark> as “2” to replicate the results I present, but you could of course compare them the other way round.</li>
</ul>
</section>
<section id="step-4-understand-the-results-tables-and-extract-the-key-results" class="level2">
<h2 class="anchored" data-anchor-id="step-4-understand-the-results-tables-and-extract-the-key-results">Step 4: understand the results tables and extract the key results</h2>
<ul>
<li>Again, refer back to the previous “Step 4: understand the results tables and extract the key results” section above if you need a refresher, but we are just extracting the same results here.</li>
</ul>
</section>
<section id="step-5-report-and-interpret-the-results" class="level2">
<h2 class="anchored" data-anchor-id="step-5-report-and-interpret-the-results">Step 5: report and interpret the results</h2>
<p>You should get the following result using the equal variances <em>not assumed</em> set of results, given the Levene’s test is significant and the histograms indicate non-equal variances, which could be reported as follows (remember to explain your analysis process and justify it in your methods):</p>
<blockquote class="blockquote">
<p>Comparing the &lt;10 per 100m² group (mean Ebola cases per village = 1.94) to the ≥ 10 per 100m² group (Ebola mean cases per village = 6.63) there is a mean difference in the natural-log number of Ebola cases per village of -1 (95% CI: -1.1, -0.9).</p>
</blockquote>
<ul>
<li><p>Note: I’ve presented the group means on the original scale so they can be interpreted easily, and I’ve not bothered presenting the associated p-value above. Again it tells us nothing more and far less than the effect size or mean difference and the associated 95% confidence intervals.</p></li>
<li><p>However, this mean difference and its 95% CI is for our outcome but on the natural log scale (i.e.&nbsp;how we transformed it), so it isn’t easy to interpret: what does a mean difference of -1 ln Ebola cases mean? Luckily we can transform (back transform) this mean difference back onto the original scale by using exponentiation with the base e applied to each value (https://en.wikipedia.org/wiki/Exponentiation). This is actually maybe most easily and quickly done just using the Google search engine’s calculator functions. Just type “exp(X)” into Google, where X is either the value of the mean difference or the upper or lower confidence interval value, and it will back-transform those values back to their original scales.</p></li>
<li><p>Doing this for the mean difference and each 95% CI and you should get the following result:</p></li>
</ul>
<blockquote class="blockquote">
<p>Mean difference = 0.36 (95% CI: 0.32, 0.4).</p>
</blockquote>
<ul>
<li><p>So how do we interpret this now? We must take care because we have calculated a difference on natural-log transformed data (via the independent t-test) and then back-transformed that mean difference of ln-transformed values. What we actually then ultimately get is a ratio between the <em>geometric mean</em> (https://en.wikipedia.org/wiki/Geometric_mean) of the outcome in the two comparison groups, rather than a difference in the arithmetic mean of the outcome in the two comparison groups, as we get with an independent t-test where we do not ln-transform the data and then back-transform the results.</p></li>
<li><p>For example, ln(2) – ln(4) is -0.6931472, and if you calculate the exponential (with base <em>e</em>) of -0.6931472 you get 0.5, and the ratio of 2:4, i.e.&nbsp;2/4 = 0.5. Or vice versa: if you calculate the exponential of ln(4) – ln(2) you get 2, and the ratio of 4/2 is 2! Therefore, the exponential back-transformed result now represents a ratio, but as we took the mean of the log-transformed values when we back-transform these would become geometric means, so the ratio is between the geometric mean of the outcome for each group. Therefore, like with risk/odds ratios as this result is now on a ratio or multiplicative scale the null value (i.e.&nbsp;the value of no difference between the two groups) is now not 0 but 1, because any number divided by itself = 1. And just like with risk/odds ratios we interpret the result in terms of the number of “times” our reference group’s mean value is compared to the comparison group.</p></li>
<li><p>Therefore, in a results section we can say that “in villages with &lt;10 individuals per 100m² the geometric mean number of Ebola cases was 0.36 (95% CI: 0.32, 0.4) times the geometric mean number of Ebola cases found in villages ≥ 10 individuals per 100m².”</p></li>
<li><p>You can also view this ratio of means in percentage terms by converting the result using one of the following simple sums, which you may find easier to interpret:</p></li>
</ul>
<blockquote class="blockquote">
<p>When the exponentiated difference (D) is &lt;1 the % decrease = (1 - D) x 100. When the exponentiated difference (D) is &gt;1 the % increase = (D - 1) x 100.</p>
</blockquote>
<ul>
<li><p>So for our result we can calculate that the geometric mean number of Ebola cases was (1 - 0.36) x 100 = <strong>64%</strong> lower in low density areas compared to high density areas (you should also transform each confidence intervals range value onto the percentage scale and present them along with the point estimate in any results section).</p></li>
<li><p>Note: geometric means are typically very similar to arithmetic means for outcomes that don’t have a huge range, i.e.&nbsp;that don’t span a number of orders of magnitude. Therefore, for many outcomes you can think of the geometric mean as being approximately equivalent to the arithmetic mean, but this won’t be the case for outcomes with big ranges spanning orders of magnitude from the smallest to the largest value.</p></li>
<li><p>Lastly, if we were comparing a numerical variable between two groups what if our data are still badly skewed despite transformation? Then we can use a non-parametric test, such as the Mann-Whitney U test (the most common fall back if the independent t-test cannot be used). We will not cover that in this class so we have more time for more sophisticated tests, but you should have no serious difficulties running and interpreting such a test now using one of the many online or text book guides available (see the MWU SPSS.pdf files in the “Computer Practical sessions” “Additional materials” folder on Minerva). The two big limitations of this test are the reduced power and the fact it only gives you a p-value to accompany your difference (which given the skewed data should arguably be summarised via the median) but no confidence intervals.</p></li>
</ul>
</section>
<section id="additional-exercise-use-the-independent-t-test-to-analyse-how-the-mean-number-of-ebola-cases-per-village-differs-between-villages-with-5-community-healthcare-workers-and-those-5" class="level2">
<h2 class="anchored" data-anchor-id="additional-exercise-use-the-independent-t-test-to-analyse-how-the-mean-number-of-ebola-cases-per-village-differs-between-villages-with-5-community-healthcare-workers-and-those-5">Additional exercise: use the independent t-test to analyse how the mean number of Ebola cases per village differs between villages with &lt;5 community healthcare workers and those ≥5</h2>
<p>Using the “Ebola.sav” dataset and the process outlined above use an independent t-test to analyse the relationship between community health worker number and Ebola case number.</p>
<ul>
<li><p>Divide n_chw into two groups based on n_chw values &lt;5 and those ≥5.</p></li>
<li><p>As we know the outcome n_ebola_cases is right skewed we must first transform it. We know a natural log (ln) transform works reasonably well, so transform this variable (or use the already transformed version you’ll have created earlier). Remember as there are 0s in the outcome we must also first add a constant before transforming. When I did the analysis I used a constant of 1, so I suggest you use this to avoid any differences, although they should be very minor.</p></li>
<li><p>Compare the number of Ebola cases per village for villages with &lt;5 community health workers to those with ≥5 community health workers using the independent t-test.</p></li>
<li><p>Extract the mean difference and confidence intervals around this estimate and back transform them by exponentiation onto their original scale. Remember you can do this quickly via Google by Googling exp(x) where x is the ln-transformed mean difference/upper or lower confidence interval of the ln-transformed mean difference.</p></li>
<li><p>In the “Exercises” folder open the “Exercises.docx” Word document and scroll down to <strong>Independent t-test with a skewed outcome: the relationship between community health worker number and Ebola case rate within villages</strong>.</p></li>
<li><p>Write a couple of sentences reporting the results of your analysis. Include the basic descriptive statistics: sample size, group sizes and group outcome means (on the original scale). Also be sure to include sufficient details about the outcome variable and the comparison made, including how the two independent groups were defined, as well as the type of analysis used, and of course the key inferential results, but you also need to mention the fact that the data were ln-transformed prior to analysis to deal with the right skew/non-normality and that the mean difference and confidence intervals presented were then back-transformed. Remember you need to interpret the result carefully because the transformation and back-transformation mean that the mean difference is now no longer a simple mean difference in reality. See “Step 5: report and interpret the results” if you need reminding. Round results to one decimal place. You don’t need to explain anything about the study or interpret the clinical or practical importance of the result.</p></li>
<li><p>Write a sentence or two about the key limitations of this analysis <em>in terms of interpreting the result</em>.</p></li>
<li><p>Once you’ve completed this compare your reporting to the below example text.</p></li>
</ul>
<p><strong>Example results reporting text</strong></p>
<details>
<summary>
Read/hide
</summary>
<p>Using an independent t-test I analysed the relationship between the number of community health workers per village (&lt;5 compared to ≥5) and the number of Ebola cases per village. Out of a total sample size of 250 villages, 107 had &lt;5 community health workers (arithmetic mean Ebola cases = 3.1) and 143 had ≥5 community health workers (arithmetic Ebola cases = 3.4). Due to a strongly right-skewed outcome I first transformed the outcome by taking the natural log of each outcome value (first adding a constant of 1 due to the presence of 0s) before back-transforming the resulting independent t-test results via exponentiation with the base e. This indicated that villages with &lt;5 community health workers had a geometric mean number of Ebola cases that was 0.9 times (95% CI: 0.7, 1.04) the geometric mean number of Ebola cases among villages with ≥5 community health workers, or equivalently the geometric number of Ebola cases among villages with &lt;5 community health workers was 10% lower than the geometric mean number of Ebola cases among villages with ≥5 community health workers.</p>
<p>Therefore, based on the confidence intervals there was no clear or statistically significant relationship between the number of community health workers in a village and the number of Ebola cases. The key limitation of this analysis is that it does not adjust for any other confounding variables, of which there are likely to be many (especially in an observational cross-sectional study like this). Therefore, this is likely to represent a biased estimate of the independent relationship between community health worker number per village and the number of Ebola cases per village in the target population.</p>
</details>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>